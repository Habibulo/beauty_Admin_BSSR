<!-- <%- include('includes/header') %>

<link rel="stylesheet" type="text/css" href="/css/products.css" />

<body data-theme="dark">
  <div class="products-container">
    <div class="navigation-menu">
      <ul class="nav justify-content-center">
        <li class="nav-item" style="cursor: pointer">
          <a class="nav-link active" href="/admin/">Home</a>
        </li>
        <li class="nav-item" style="cursor: pointer">
          <a class="nav-link" href="/admin/product/all">Menu</a>
        </li>
        <li class="nav-item" style="cursor: pointer">
          <a class="nav-link" href="/admin/user/all">Users</a>
        </li>
        <li
          class="nav-item"
          style="cursor: pointer"
          onclick="return confirm('Do you want to logout?')"
        >
          <a class="nav-link" href="/admin/logout">Logout</a>
        </li>
      </ul>
    </div>

    <div class="restaurant-menu-frame">
      <div class="board">
        <div class="dishes-table">
          <span class="new-dish-txt" style="margin-bottom: 30px">
            RESTAURANT MENU
          </span>
          <table class="table table-bordered table-hover">
            <thead class="thead-light">
              <tr class="thead-light">
                <th scope="col">T/r</th>
                <th scope="col">Product Name</th>
                <th scope="col">Product Type</th>
                <th scope="col">Product Volume</th>
                <th scope="col">Product Price</th>
                <th scope="col">Product Left Count</th>
                <th scope="col">Status</th>
              </tr>
            </thead>
            <% products.map((val, key)=> {%>

            <tbody style="background: white">
              <td><%= key +1 %></td>
              <td><%= val.productName %></td>
              <td><%= val.productCollection%></td>
              <td>
                <%=val.productCollection === "DRINK"? val.productVolume :
                val.productSize %>
              </td>
              <td><%= val.productPrice%></td>
              <td><%= val.productLeftCount %></td>

              <td>
                <select
                  class="spec-select new-product-status"
                  id="<%= val._id%>"
                >
                  <option value="PAUSE" <%= val.productStatus ==="PAUSE"?  'selected': '' %> >PAUSE</option>
                  <option value="PROCESS"<%= val.productStatus ==="PROCESS"?  'selected': '' %> >PROCESS</option>
                  <option value="DELETE" <%= val.productStatus ==="DELETE"?  'selected': '' %>>DELETE</option>
                </select>
              </td>
            </tbody>
            <% })%>
          </table>
          <div
            class="long-input"
            style="align-items: flex-end; margin-bottom: 25px"
          >
            <button class="btn btn-primary" id="process-btn">
              New Product
            </button>
          </div>
        </div>
        <form
          onsubmit="return validateForm()"
          action="/admin/product/create"
          method="POST"
          class="dish-container"
          enctype="multipart/form-data"
        >
          <div class="long-input" style="display: flex; align-items: center">
            <span class="new-dish-txt">NEW PRODUCT DETAIL</span>
          </div>
          <div class="login-input-frame">
            <div class="long-input">
              <label>Product Name</label>
              <input
                type="text"
                placeholder="Name"
                name="productName"
                class="product-name"
              />
            </div>
            <input
              name="productStatus"
              value="PAUSE"
              class="product-status"
              hidden
            />
          </div>
          <div class="half-input-frame">
            <div class="half-input">
              <label>Product Price</label>
              <input
                type="number"
                placeholder="Price"
                name="productPrice"
                class="product-price"
              />
            </div>
            <div class="half-input">
              <label>Product Left Counts</label>
              <input
                type="number"
                placeholder="Counts"
                name="productLeftCount"
                class="product-left-count"
              />
            </div>
          </div>
          <div class="half-input-frame">
            <div class="half-input">
              <label>Product Type</label>
              <select class="product-collection" name="productCollection">
                <option value="DISH" selected>Dish</option>
                <option value="SALAD">Salad</option>
                <option value="DESSERT">Dessert</option>
                <option value="DRINK">Drink</option>
                <option value="OTHER">Other</option>
              </select>
            </div>

            <div class="half-input" id="product-collection">
              <label>Dish Size</label>
              <select class="product-size" name="productSize">
                <option value="SMALL">Small</option>
                <option value="NORMAL" selected>Normal</option>
                <option value="LARGE">Large</option>
                <option value="SET">Set</option>
              </select>
            </div>

            <div class="half-input" id="product-volume" style="display: none">
              <label>Drink Volume</label>
              <select class="product-volume" name="productVolume">
                <option value="0.5">0,5 liters</option>
                <option value="1" selected>1 liters</option>
                <option value="1.2">1,2 liters</option>
                <option value="1.5">1,5 liters</option>
                <option value="2">2 liters</option>
              </select>
            </div>
          </div>
          <div class="long-input">
            <label>Product Description</label>
            <textarea name="productDesc" class="product-desc"></textarea>
          </div>

          <div class="img-frame">
            <label>Product Images</label>
            <div class="media-frame">
              <div class="upload-img-box">
                <img src="/img/upload.svg" class="1" id="image-section-1" />
                <input
                  type="file"
                  id="file"
                  name="productImages"
                  class="image-one"
                  onchange="previewFileHendler(this, 1)"
          
                />
              </div>
              <div class="upload-img-box">
                <img src="/img/upload.svg" class="2" id="image-section-2" />
                <input
                  type="file"
                  id="file"
                  name="productImages"
                  class="image-two"
                  onchange="previewFileHendler(this, 2)"
                />
              </div>
              <div class="upload-img-box">
                <img src="/img/upload.svg" class="3" id="image-section-3" />
                <input
                  type="file"
                  id="file"
                  name="productImages"
                  class="image-three"
                  onchange="previewFileHendler(this, 3)"
                />
              </div>
              <div class="upload-img-box">
                <img src="/img/upload.svg" class="4" id="image-section-4" />
                <input
                  type="file"
                  id="file"
                  name="productImages"
                  class="image-four"
                  onchange="previewFileHendler(this, 4)"
                />
              </div>
              <div class="upload-img-box">
                <img src="/img/upload.svg" class="5" id="image-section-5" />
                <input
                  type="file"
                  id="file"
                  name="productImages"
                  class="image-five"
                  onchange="previewFileHendler(this, 5)"
                />
              </div>
              <input name="restaurantIid" class="restaurant-id" hidden />
            </div>
          </div>

          <div class="operation-buttons">
            <button type="button" class="btn btn-danger" id="cancel-btn">Cancel</button>
            <button type="submit" class="btn btn-primary" id="create-btn">
              Create
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script type="text/javascript" src="/js/products.js"></script>
</body>

<%- include('includes/footer') %>

create a responsive html file for ejs

 a page should include
 - if home page is dark mode [data-theme="dark"] it should stay in dark mode create javascript code for script.js as a file
 - first create a table that shows all the products [T/r,	Product Name,	Product Type,	Product Volume,	Product Price, 	Product Left, Count	Status ]
 - a page should have a create new button if I press the button it should open a a form to create a new product or cancel button to close which a page without reload
 - form has inputs of [Product Name, Product Price, Product Left Counts, Product Category, Optional Product Size (with some options), Product Type, Product Description, Product Discount Price, Product Images up to 5]  -->

<!-- 
Responsive HTML Table With Pure CSS - Web Design/UI Design

Code written by:
👨🏻‍⚕️ Coding Design (Jeet Saru)

> You can do whatever you want with the code. However if you love my content, you can **SUBSCRIBED** my YouTube Channel.

🌎link: www.youtube.com/codingdesign 
 -->
 <!DOCTYPE html>
 <html lang="en">
 
 <head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <title>Convert | Export html Table to CSV & EXCEL File</title>
   <link rel="stylesheet" type="text/css" href="../public/css/products.css">
 </head>
 
 <body>
   <main class="table" id="customers_table">
     <section class="table__header">
       <h1>Products List</h1>
       <div class="input-group">
         <input type="search" placeholder="Search Data...">
         <img src="../public/img/userImages/search.png" alt="">
       </div>
       <div class="export__file">
         <label for="export-file" class="export__file-btn" title="Export File">
           <img src="../public/img/button.png" alt="">
         </label>
         <input type="checkbox" id="export-file" hidden>
         <div class="export__file-options">
           <label>Export As &nbsp; &#10140;</label>
           <label for="export-file" id="toPDF">PDF <img src="../public/img/userImages/pdf.png" alt=""></label>
           <label for="export-file" id="toJSON">JSON <img src="../public/img/userImages/json.png" alt=""></label>
           <label for="export-file" id="toCSV">CSV <img src="../public/img/userImages/csv.png" alt=""></label>
           <label for="export-file" id="toEXCEL">EXCEL <img src="../public/img/userImages/excel.png" alt=""></label>
         </div>
       </div>      
     </section>
 
     <!-- Toggle form visibility -->
     <section class="table__body">
       <div class="header">
         <h1>NEW PRODUCT DETAIL</h1>
         <button class="create-btn" id="toggleFormBtn">Create New Product</button>
       </div>
       
       <!-- Form initially hidden -->
       <form 
         id="productForm"
         style="display: none;"
         onsubmit="return validateForm()"
         action="/admin/product/create"
         method="POST"
         class="custom-form"
         enctype="multipart/form-data">
         
         <!-- Form inputs (match table structure) -->
         <div class="custom-input">
           <label for="productName">Product Name</label>
           <input type="text" name="productName" placeholder="Name" id="productName" />
         </div>
     
         <input type="hidden" name="productStatus" value="PAUSE" />
     
         <div class="custom-row">
           <div class="custom-input">
             <label for="productPrice">Product Price</label>
             <input type="number" name="productPrice" placeholder="Price" id="productPrice" />
           </div>
           <div class="custom-input">
             <label for="productLeftCount">Product Left Counts</label>
             <input type="number" name="productLeftCount" placeholder="Counts" id="productLeftCount" />
           </div>
         </div>
     
         <div class="custom-row">
           <div class="custom-input">
             <label for="productCollection">Product Type</label>
             <select name="productCollection" id="productCollection">
               <option value="DISH" selected>Dish</option>
               <option value="SALAD">Salad</option>
               <option value="DESSERT">Dessert</option>
               <option value="DRINK">Drink</option>
               <option value="OTHER">Other</option>
             </select>
           </div>
           <div class="custom-input">
             <label for="productSize">Dish Size</label>
             <select name="productSize" id="productSize">
               <option value="SMALL">Small</option>
               <option value="NORMAL" selected>Normal</option>
               <option value="LARGE">Large</option>
               <option value="SET">Set</option>
             </select>
           </div>
         </div>
     
         <div class="custom-input">
           <label for="productDesc">Product Description</label>
           <textarea name="productDesc" id="productDesc" placeholder="Description"></textarea>
         </div>
     
         <div class="custom-images">
           <label>Product Images</label>
           <div class="custom-media-frame">
             <div class="custom-upload-img-box">
               <img src="/img/upload.svg" id="image-section-1" />
               <input type="file" name="productImages" onchange="previewFileHendler(this, 1)" />
             </div>
             <div class="custom-upload-img-box">
               <img src="/img/upload.svg" id="image-section-2" />
               <input type="file" name="productImages" onchange="previewFileHendler(this, 2)" />
             </div>
             <!-- Add more image uploaders as needed -->
           </div>
         </div>
     
         <input type="hidden" name="restaurantId" value="123" />
     
         <div class="custom-operation-buttons">
           <button type="button" class="cancel-btn">Cancel</button>
           <button type="submit" class="create-btn">Create</button>
         </div>
       </form>
     </section>
 
     <!-- Do not change this section -->
     <section class="table__body">
       <table>
         <thead>
           <tr>
             <th> No <span class="icon-arrow">&UpArrow;</span></th>
             <th> Image <span class="icon-arrow">&UpArrow;</span></th>
             <th> Product <span class="icon-arrow">&UpArrow;</span></th>
             <th> Category <span class="icon-arrow">&UpArrow;</span></th>
             <th> Size <span class="icon-arrow">&UpArrow;</span></th>
             <th> Status <span class="icon-arrow">&UpArrow;</span></th>
             <th> Price <span class="icon-arrow">&UpArrow;</span></th>
           </tr>
         </thead>
         <tbody>
           <tr>
             <td> 1 </td>
             <td> <img src="../public/img/userImages/Zinzu Chan Lee.jpg" alt=""></td>
             <td> Zenhusia</td>
             <td> Seoul </td>
             <td> 17 Dec, 2022 </td>
             <td>
               <p class="status delivered">Delivered</p>
             </td>
             <td> <strong> $128.90 </strong></td>
           </tr>
         </tbody>
         
       </table>
     </section>
   </main>
   <!-- JavaScript for toggling the form -->
  <script src="../public/js/products.js"></script>
 
 </body>
 
 </html>
 